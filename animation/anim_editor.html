<!DOCTYPE HTML>
<html lang="en" class="navy sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Animation Editor - Fyrox Book</title>


        <!-- Custom HTML head -->
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-ETGWNBR03Y"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'G-ETGWNBR03Y');
        </script>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "navy";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Fyrox Book</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/fyrox-book/fyrox-book.github.io/tree/main" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/fyrox-book/fyrox-book.github.io/edit/main/src/animation/anim_editor.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="animation-editor"><a class="header" href="#animation-editor">Animation Editor</a></h1>
<p><img src="./anim_editor.png" alt="anim editor" /></p>
<p>Animation Editor is a tool that helps you to create and preview animations. This is a powerful tool that can be used
to animate pretty much any numeric property. It has three main parts:</p>
<ol>
<li><code>Toolbar</code> - contains a set of tools that changes a particular part of an animation (name, length, speed, etc.)</li>
<li><code>Track List</code> - contains a list of tracks of nodes that will be animated.</li>
<li><code>Curve Editor</code> - curve editor allows you to edit behaviour of a numeric parameter over the time.</li>
</ol>
<p>The editor can be opened in two ways - using <code>Utils -&gt; Animation Editor</code> or by selecting an animation player node and
clicking <code>Open Animation Editor</code> button in the inspector.</p>
<p><img src="./ae_open1.png" alt="open1" /></p>
<p><img src="./ae_open2.png" alt="open2" /></p>
<p>In both ways you still need to select an animation player for editing.</p>
<h2 id="typical-workflow"><a class="header" href="#typical-workflow">Typical Workflow</a></h2>
<p>At first, you need to create or <a href="#animation-importing">import</a> an animation, then you need to set its time slice to
desired range (see <a href="#toolbar">Time Slice</a> in the section below), then you need to add a few tracks for desired
properties and finally add some keys. You can <a href="#preview-mode">preview</a> the results at any time, keep in
mind that any attempt to change an animation while it is the preview mode, will revert every change from the
preview mode and only then apply your change.</p>
<h2 id="toolbar"><a class="header" href="#toolbar">Toolbar</a></h2>
<p>The toolbar contains a set of tools that changes a particular part of an animation (name, length, speed, etc.). It looks
like this:</p>
<p><img src="./ae_toolbar.png" alt="toolbar" /></p>
<ol>
<li><code>Animation Name</code> - name of a currently selected animation.</li>
<li><code>Add Animation</code> - adds a new empty animation with the name from the text box at the left to the animation player.</li>
<li><code>Import Animation</code> - starts animation importing process. See <a href="#animation-importing">Animation Importing</a> section
for more info.</li>
<li><code>Reimport Animation</code> - re-imports the animation from an external file, it is useful if you need to change animation's
content, while keep references to it valid.</li>
<li><code>Rename Animation</code> - renames a currently selected animation using the name from the text box at the left.</li>
<li><code>Animation Selector</code> - allows you to switch currently edited animation.</li>
<li><code>Delete Animation</code> - deletes a currently selected animation, tries to select last animation from the list if possible.</li>
<li><code>Duplicate Animation</code> - clones a currently selected animation.</li>
<li><code>Loop Animation</code> - enables or disables looping of a currently selected animation.</li>
<li><code>Enable Animation</code> - enables or disables a currently selected animation.</li>
<li><code>Animation Speed</code> - sets a new playback speed of a currently selected animation.</li>
<li><code>Time Slice</code> - a time range (in seconds) which defines start and end time of a currently selected animation. The range
is highlighted in the curve editor.</li>
<li><code>Root Motion</code> - open root motion settings. See <a href="#root-motion">Root Motion</a> section for more info.</li>
<li><code>Preview Switch</code> - enables or disables animation preview. See <a href="#preview-mode"><code>Preview Mode</code></a> section for more info.</li>
<li><code>Play/Pause</code> - plays or pauses a currently selected animation (allowed only in the preview mode).</li>
<li><code>Stop</code> - stops a currently selected animation (allowed only in the preview mode).</li>
</ol>
<h2 id="track-list"><a class="header" href="#track-list">Track List</a></h2>
<p>The track list contains a list of tracks of nodes that will be animated. It looks like this:</p>
<p><img src="./ae_track_list.png" alt="track list" /></p>
<ol>
<li><code>Filter Bar</code> - filters the track list by finding tracks whose names matching the filter. You can use this to find
tracks that belong to a particular scene node.</li>
<li><code>Clear Filter</code> - clears the filter, the track list will show all the tracks after this.</li>
<li><code>Collapse All</code> - collapses all the tracks in the list.</li>
<li><code>Expand All</code> - expands all the tracks in the list.</li>
<li><code>Track</code> - a track with some number of children parametric curves.</li>
<li><code>Track Component Curve</code> - parametric curve that serves a data source for the animation for a particular track.</li>
<li><code>Track Switch</code> - enables or disables a track; disabled tracks won't "touch" their properties.</li>
<li><code>Add Track</code> - starts property binding process, see <a href="#property-binding">Property Binding</a> section for more info.</li>
</ol>
<h3 id="track-context-menu"><a class="header" href="#track-context-menu">Track Context Menu</a></h3>
<p><img src="./ae_track_context_menu.png" alt="context menu" /></p>
<ul>
<li><code>Remove Selected Tracks</code> - removes selected tracks; you can remove multiple tracks at a time by selecting them while
holding <code>Ctrl</code>.</li>
</ul>
<h2 id="curve-editor"><a class="header" href="#curve-editor">Curve Editor</a></h2>
<p>Curve editor allows you to edit parametric curves (one at a time). A curve consists of zero or more key frames with
various transition rules between current and the next. The editor looks like this:</p>
<p><img src="./ae_curve_editor.png" alt="curve editor" /></p>
<ol>
<li><code>Time Ruler</code> - shows time values and every signal of a currently selected animation. A click on the time ruler will
move the playback cursor at the click position. You can move it by clicking at the cursor and moving the mouse while
holding the left mouse button. Animation signals can be moved in the same fashion.</li>
<li><code>Parametric Curve</code> - a curve that defines how a value changes over time.</li>
<li><code>Time Thumb</code> - animation playback cursor, useful only for preview.</li>
<li><code>Animation Signal</code> - some animation signal that will produce animation events when the playback cursor passes it.</li>
</ol>
<h3 id="time-ruler-context-menu"><a class="header" href="#time-ruler-context-menu">Time Ruler Context Menu</a></h3>
<p><img src="./ae_time_ruler_context_menu.png" alt="time ruler context menu" /></p>
<ul>
<li><code>Remove Signal</code> - removes an animation signal under the mouse cursor.</li>
<li><code>Add Signal</code> - adds a new animation signal at the mouse cursor position.</li>
</ul>
<h3 id="key-frame-context-menu"><a class="header" href="#key-frame-context-menu">Key Frame Context Menu</a></h3>
<p><img src="./ae_key_frame_context_menu.png" alt="key frame context menu" /></p>
<ul>
<li><code>Location</code> - shows a key location and allows you to change it. Useful for setting precise values.</li>
<li><code>Value</code> - shows a key value and allows you to change it. Useful for setting precise values.</li>
<li><code>Add Key</code> - adds a new key to the curve.</li>
<li><code>Remove</code> - removes all selected keys. You can select multiple keys either by box selection (click and drag the mouse
to active box selection) or by clicking on separate keys while holding <code>Ctrl</code>.</li>
<li><code>Key...</code> - allows you to change the interpolation type of key. It could be one of the following values: Constant, Linear,
Cubic.</li>
<li><code>Zoom To Fit</code> - tries to find zooming values (for both axes) and the view position with which the entire curve fits in
the viewport.</li>
</ul>
<h2 id="property-binding"><a class="header" href="#property-binding">Property Binding</a></h2>
<p>To animate a property all you need to do is to click on <code>Add Track...</code> button at the bottom of the track list, select
a node to animate and then select a property that will be animated. There are two windows that will be shown one after
another:</p>
<p><img src="./ae_add_track_select_node.png" alt="step1" /></p>
<p><img src="./ae_add_track_select_property.png" alt="step2" /></p>
<p>You can cancel property binding at any time by clicking <code>Cancel</code> in any of the windows. Keep in mind that you can animate
only numeric properties, so not every property is shown in the window.</p>
<h2 id="animation-importing"><a class="header" href="#animation-importing">Animation Importing</a></h2>
<p>Animations can be stored in separate files, but the engine requires all of them to be in a single Animation Player. To
put an animation from an external resource (an FBX, for instance) in the animation player you can use animation
importing. To do that, click on animation import icon and then select a root node of the hierarchy that is animated in
the external animation file, then select the animation file and click <code>Ok</code>. The engine will try to import the animation
and map it to the given hierarchy, mapping is done using node names, so animated node names must match in both your
scene and your external animation file.</p>
<p><img src="./ae_import_select_target_node.png" alt="step1" /></p>
<p><img src="./ae_import_select_animation.png" alt="step2" /></p>
<p>Content of existing animations can be replaced by reimporting. Click on a button with two circular arrows to reimport
your animation. It could be useful if you changed your animation in some external editor (Blender for example) and want
to apply changes in your game.</p>
<h2 id="preview-mode"><a class="header" href="#preview-mode">Preview Mode</a></h2>
<p>Preview mode helps you to see and debug your animation. After activating the mode, you need to play the animation by
clicking the <code>Play/Pause</code> button:</p>
<p><img src="./anim_editor.gif" alt="anim editor" /></p>
<p>Any significant change made in the scene will automatically deactivate the preview mode reverting all the changes made
by playing animation.</p>
<h2 id="root-motion"><a class="header" href="#root-motion">Root Motion</a></h2>
<p>See <a href="root_motion/root_motion.html">Root Motion chapter</a> for more info.</p>
<h2 id="limitations"><a class="header" href="#limitations">Limitations</a></h2>
<p>For now there's no dopesheet mode in the editor, you can edit only one numeric parameter at a time. Also, there's no
capture mode - this is a special mode in which the editor automatically adds your changes in the scene to the animation.
These limitations will be removed in the future versions.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../animation/animation.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../animation/blending.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../animation/animation.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../animation/blending.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace.js"></script>
        <script src="../mode-rust.js"></script>
        <script src="../editor.js"></script>
        <script src="../theme-dawn.js"></script>
        <script src="../theme-tomorrow_night.js"></script>

        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
