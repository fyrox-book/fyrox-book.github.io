<!DOCTYPE HTML>
<html lang="en" class="navy sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Scene and Scene Graph - Fyrox Book</title>


        <!-- Custom HTML head -->
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-ETGWNBR03Y"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'G-ETGWNBR03Y');
        </script>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "navy";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Fyrox Book</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/fyrox-book/fyrox-book.github.io/tree/main" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/fyrox-book/fyrox-book.github.io/edit/main/src/beginning/scene_and_scene_graph.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="scene-and-scene-graph"><a class="header" href="#scene-and-scene-graph">Scene and Scene Graph</a></h1>
<p>When you're playing a game, you often see various objects scattered around the screen, all of them are forming a
<em>scene</em>. A scene is just a set of a variety of objects, as in many other game engines, Fyrox allows you to create multiple
scenes for multiple purposes, for example, one scene could be used for a menu, a bunch of others for game levels,
and another one for an ending screen. Scenes can also be used to create a source of data for other scenes, such scenes
are called <em>prefabs</em>. Scenes can also be rendered in a texture, which can be used in other scenes - this way you
can create interactive screens that show other places.</p>
<p>While playing games, you may have noticed that some objects behave as if they were linked to other objects, for
example, a character in a role-playing game could carry a sword. While the character holds the sword, it is linked to
his
arm. Such relations between the objects can be presented by a graph structure.</p>
<p>Simply speaking, a graph is a set of objects with hierarchical relationships between each object. Each object in the
graph is called a <em>node</em>. In the example with the sword and the character, the sword is a <em>child</em> node of the character,
and the character is a <em>parent</em> node of the sword (here we ignore the fact that in reality, character
models usually contain complex skeletons, with the sword actually being attached to one of the hands' bones, not to the
character).</p>
<p>You can change the hierarchy of nodes in the editor using a simple drag'n'drop functionality in the <code>World Viewer</code> -
drag a node onto some other node, and it will attach itself to it.</p>
<h2 id="building-blocks-or-scene-nodes"><a class="header" href="#building-blocks-or-scene-nodes">Building Blocks or Scene Nodes</a></h2>
<p>The engine offers various types of "building blocks" for your scene, each such block is called a <em>scene node</em>.</p>
<ul>
<li><a href="../scene/base_node.html">Base</a> - stores hierarchical information (a handle to the parent node and handles
to children nodes), local and global transform, name, tag, lifetime, etc. It has self-describing name - it's used as a
base node for every other scene node via composition.</li>
<li><a href="../scene/mesh_node.html">Mesh</a> - represents a 3D model. This is one of the most commonly used nodes in almost every game.
Meshes can be easily created either programmatically or be made in some 3D modeling software, such as Blender,
and then loaded into the scene.</li>
<li><a href="../scene/light_node.html">Light</a> - represents a light source. There are three types of light sources:
<ul>
<li><strong>Point</strong> - emits light in every direction. A real-world example would be a light bulb.</li>
<li><strong>Spot</strong> - emits light in a particular direction, with a cone-like shape. A real-world example would be a
flashlight.</li>
<li><strong>Directional</strong> - emits light in a particular direction, but does not have position. The closest real-world
example would be the Sun.</li>
</ul>
</li>
<li><a href="../scene/probe.html">Reflection Probe</a> - reflection probe is an object that allows "capturing" a scene content in a
cube texture, that can later be used to render reflections and be used as a source of ambient lighting for a scene.</li>
<li><a href="../scene/camera_node.html">Camera</a> - allows you to see the world. You must have at least one camera in your scene to be
able to see anything.</li>
<li><a href="../scene/sprite_node.html">Sprite</a> - represents a quad that always faces towards a camera. It can have a texture and
size and can also can be rotated around the "look" axis.</li>
<li><a href="../scene/particle_system_node.html">Particle system</a> - allows you to create visual effects using a huge set of small
particles. It can be used to create smoke, sparks, blood splatters, etc.</li>
<li><a href="../scene/terrain_node.html">Terrain</a> - allows you to create complex landscapes with minimal effort.</li>
<li><a href="../scene/decal_node.html">Decal</a> - paints on other nodes using a texture. It is used to simulate cracks in concrete
walls, damaged parts of the road, blood splatters, bullet holes, etc.</li>
<li><a href="../physics/rigid_body.html">Rigid Body</a> - a physical entity that is responsible for the dynamic of the rigid. There is
a special variant for 2D - <code>RigidBody2D</code>.</li>
<li><a href="../physics/collider.html">Collider</a> - a physical shape for a rigid body. It is responsible for contact manifold
generation, without it, any rigid body will not participate in simulation correctly, so every rigid body must have at
least one collider. There is a special variant for 2D - <code>Collider2D</code>.</li>
<li><a href="../physics/joint.html">Joint</a> - a physical entity that restricts motion between two rigid bodies. It has various
amounts of degrees of freedom depending on the type of the joint. There is a special variant for 2D - <code>Joint2D</code>.</li>
<li><a href="../scene/rectangle.html">Rectangle</a> - a simple rectangle mesh that can have a texture and a color. It is a very simple
version of a Mesh node, yet it uses a very optimized renderer that allows you to render dozens of rectangles
simultaneously. This node is intended for use in <strong>2D games</strong> only.</li>
<li><a href="../scene/tilemap.html">Tile Map</a> - tile map is a 2D "image", made out of a small blocks called tiles. Tile maps used in
2D games to build game worlds quickly and easily.</li>
<li><a href="../sound/sound.html">Sound</a> - a sound source universal for 2D and 3D. Spatial blend factor allows you to select
a proportion between 2D and 3D.</li>
<li><a href="../sound/listener.html">Listener</a> - an audio receiver that captures the sound at a particular point in your scene and
sends it to an audio context for processing and outputting to an audio playback device.</li>
<li>Animation Player - a container for multiple animations. It can play animations made in the
<a href="../animation/anim_editor.html">animation editor</a> and apply animation poses to the respective scene nodes.</li>
<li>Animation Blending State Machine - a state machine that mixes multiple animations from multiple states into one; each
state is backed by one or more animation playing or blending nodes. See
its <a href="../animation/absm_editor.html">respective chapter</a> for more info.</li>
</ul>
<p>Every node can be created either in the editor (through <code>Create</code> on the main menu, or through <code>Add Child</code> after
right-clicking on a game entity) or programmatically via their respective node builder (
see <a href="https://docs.rs/fyrox/latest/fyrox/scene/index.html">API docs</a> for more info). These scene nodes allow you to build
almost any kind of game. It is also possible to create your own types of nodes, but that is an advanced topic, which is
covered in a <a href="../scene/custom_node.html">future chapter</a>.</p>
<h2 id="local-and-global-coordinates"><a class="header" href="#local-and-global-coordinates">Local and Global Coordinates</a></h2>
<p>A graph describes your scene in a very natural way, allowing you to think in terms of relative and absolute coordinates
when working with <em>scene nodes</em>.</p>
<p>A scene node has two kinds of transform - local and global. The local transform defines where the node is located
relative to its origin, its scale as a percentage, and its rotation around any arbitrary axis.
The global transform is almost the same, but it also includes the whole chain of transforms of the parent nodes. Going
back to the example of the character and the sword, if the character moves, and by extension the sword, the global
transform of the sword will reflect the changes made to the character position, yet its local transform will not, since
that represents the sword's position relative to the character's, which didn't change.</p>
<p>This mechanism is very simple, yet powerful. The full grace of it unfolds when you're working with 3D models with
skeletons. Each bone in a skeleton has its parent and a set of children, which allows you to rotate, translate, or scale
them to
animate your entire character.</p>
<h2 id="scripts"><a class="header" href="#scripts">Scripts</a></h2>
<p>Scene node can have zero or more scripts assigned to it to execute some logic associated with the node. Scripting
is a separate large topic, and it is described in the <a href="../scripting/scripting.html">respective chapter</a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../beginning/editor_overview.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../beginning/assets.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../beginning/editor_overview.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../beginning/assets.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace.js"></script>
        <script src="../mode-rust.js"></script>
        <script src="../editor.js"></script>
        <script src="../theme-dawn.js"></script>
        <script src="../theme-tomorrow_night.js"></script>

        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
